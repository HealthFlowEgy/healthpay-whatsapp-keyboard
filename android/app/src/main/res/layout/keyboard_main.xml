<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:background="@color/keyboard_background"
    android:orientation="vertical">

    <!-- ==================== HEALTHPAY PANEL (Collapsible) ==================== -->
    <LinearLayout
        android:id="@+id/healthpay_panel"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@color/healthpay_panel_background"
        android:orientation="vertical"
        android:paddingHorizontal="8dp"
        android:paddingVertical="8dp"
        android:visibility="gone">

        <!-- Balance Display -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:gravity="center_vertical"
            android:orientation="horizontal"
            android:paddingHorizontal="8dp"
            android:paddingVertical="4dp">

            <TextView
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="@string/wallet_balance"
                android:textColor="@color/text_secondary"
                android:textSize="12sp" />

            <TextView
                android:id="@+id/tv_balance"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="EGP 0.00"
                android:textColor="@color/healthpay_primary"
                android:textSize="16sp"
                android:textStyle="bold" />

            <ImageButton
                android:id="@+id/btn_refresh_balance"
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:layout_marginStart="8dp"
                android:background="?attr/selectableItemBackgroundBorderless"
                android:contentDescription="@string/refresh_balance"
                android:src="@drawable/ic_refresh"
                android:tint="@color/healthpay_primary" />
        </LinearLayout>

        <!-- Quick Actions -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="8dp"
            android:gravity="center"
            android:orientation="horizontal">

            <!-- Send Money -->
            <LinearLayout
                android:id="@+id/btn_send_money"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:background="@drawable/bg_action_button"
                android:gravity="center"
                android:orientation="vertical"
                android:padding="8dp">

                <ImageView
                    android:layout_width="24dp"
                    android:layout_height="24dp"
                    android:src="@drawable/ic_send_money"
                    android:tint="@color/healthpay_primary"
                    android:contentDescription="@string/send_money" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="4dp"
                    android:text="@string/send"
                    android:textColor="@color/text_primary"
                    android:textSize="10sp" />
            </LinearLayout>

            <!-- Request Money -->
            <LinearLayout
                android:id="@+id/btn_request_money"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:layout_marginStart="8dp"
                android:background="@drawable/bg_action_button"
                android:gravity="center"
                android:orientation="vertical"
                android:padding="8dp">

                <ImageView
                    android:layout_width="24dp"
                    android:layout_height="24dp"
                    android:src="@drawable/ic_request_money"
                    android:tint="@color/healthpay_primary"
                    android:contentDescription="@string/request_money" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="4dp"
                    android:text="@string/request"
                    android:textColor="@color/text_primary"
                    android:textSize="10sp" />
            </LinearLayout>

            <!-- QR Code -->
            <LinearLayout
                android:id="@+id/btn_qr_code"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:layout_marginStart="8dp"
                android:background="@drawable/bg_action_button"
                android:gravity="center"
                android:orientation="vertical"
                android:padding="8dp">

                <ImageView
                    android:layout_width="24dp"
                    android:layout_height="24dp"
                    android:src="@drawable/ic_qr_code"
                    android:tint="@color/healthpay_primary"
                    android:contentDescription="@string/qr_code" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="4dp"
                    android:text="@string/scan"
                    android:textColor="@color/text_primary"
                    android:textSize="10sp" />
            </LinearLayout>

            <!-- History -->
            <LinearLayout
                android:id="@+id/btn_history"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:layout_marginStart="8dp"
                android:background="@drawable/bg_action_button"
                android:gravity="center"
                android:orientation="vertical"
                android:padding="8dp">

                <ImageView
                    android:layout_width="24dp"
                    android:layout_height="24dp"
                    android:src="@drawable/ic_history"
                    android:tint="@color/healthpay_primary"
                    android:contentDescription="@string/history" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="4dp"
                    android:text="@string/history"
                    android:textColor="@color/text_primary"
                    android:textSize="10sp" />
            </LinearLayout>
        </LinearLayout>

        <!-- Quick Amounts -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="8dp"
            android:gravity="center"
            android:orientation="horizontal">

            <Button
                android:id="@+id/btn_amount_50"
                style="@style/QuickAmountButton"
                android:layout_width="0dp"
                android:layout_height="36dp"
                android:layout_weight="1"
                android:text="EGP 50" />

            <Button
                android:id="@+id/btn_amount_100"
                style="@style/QuickAmountButton"
                android:layout_width="0dp"
                android:layout_height="36dp"
                android:layout_weight="1"
                android:layout_marginStart="8dp"
                android:text="EGP 100" />

            <Button
                android:id="@+id/btn_amount_200"
                style="@style/QuickAmountButton"
                android:layout_width="0dp"
                android:layout_height="36dp"
                android:layout_weight="1"
                android:layout_marginStart="8dp"
                android:text="EGP 200" />

            <Button
                android:id="@+id/btn_amount_500"
                style="@style/QuickAmountButton"
                android:layout_width="0dp"
                android:layout_height="36dp"
                android:layout_weight="1"
                android:layout_marginStart="8dp"
                android:text="EGP 500" />
        </LinearLayout>

    </LinearLayout>

    <!-- ==================== SUGGESTIONS BAR ==================== -->
    <LinearLayout
        android:id="@+id/suggestions_bar"
        android:layout_width="match_parent"
        android:layout_height="40dp"
        android:background="@color/suggestions_background"
        android:gravity="center_vertical"
        android:orientation="horizontal"
        android:paddingHorizontal="4dp">

        <!-- HealthPay Toggle Button -->
        <ImageButton
            android:id="@+id/btn_healthpay_toggle"
            android:layout_width="40dp"
            android:layout_height="36dp"
            android:background="@drawable/bg_key_special"
            android:contentDescription="@string/toggle_healthpay"
            android:src="@drawable/ic_healthpay_small"
            android:scaleType="centerInside"
            android:padding="8dp" />

        <!-- Suggestions ScrollView -->
        <HorizontalScrollView
            android:layout_width="0dp"
            android:layout_height="match_parent"
            android:layout_weight="1"
            android:scrollbars="none">

            <LinearLayout
                android:id="@+id/suggestions_container"
                android:layout_width="wrap_content"
                android:layout_height="match_parent"
                android:gravity="center_vertical"
                android:orientation="horizontal"
                android:paddingHorizontal="8dp">

                <!-- Suggestions will be added dynamically -->

            </LinearLayout>
        </HorizontalScrollView>

        <!-- Settings Button -->
        <ImageButton
            android:id="@+id/btn_keyboard_settings"
            android:layout_width="40dp"
            android:layout_height="36dp"
            android:background="?attr/selectableItemBackgroundBorderless"
            android:contentDescription="@string/keyboard_settings"
            android:src="@drawable/ic_settings"
            android:tint="@color/key_text_secondary"
            android:padding="8dp" />
    </LinearLayout>

    <!-- ==================== QWERTY KEYBOARD ==================== -->
    <LinearLayout
        android:id="@+id/keyboard_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:paddingHorizontal="3dp"
        android:paddingBottom="4dp">

        <!-- Row 1: Q W E R T Y U I O P -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="4dp"
            android:gravity="center"
            android:orientation="horizontal">

            <Button android:id="@+id/btn_q" style="@style/KeyboardKeyStyle" android:text="q" />
            <Button android:id="@+id/btn_w" style="@style/KeyboardKeyStyle" android:text="w" />
            <Button android:id="@+id/btn_e" style="@style/KeyboardKeyStyle" android:text="e" />
            <Button android:id="@+id/btn_r" style="@style/KeyboardKeyStyle" android:text="r" />
            <Button android:id="@+id/btn_t" style="@style/KeyboardKeyStyle" android:text="t" />
            <Button android:id="@+id/btn_y" style="@style/KeyboardKeyStyle" android:text="y" />
            <Button android:id="@+id/btn_u" style="@style/KeyboardKeyStyle" android:text="u" />
            <Button android:id="@+id/btn_i" style="@style/KeyboardKeyStyle" android:text="i" />
            <Button android:id="@+id/btn_o" style="@style/KeyboardKeyStyle" android:text="o" />
            <Button android:id="@+id/btn_p" style="@style/KeyboardKeyStyle" android:text="p" />

        </LinearLayout>

        <!-- Row 2: A S D F G H J K L -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="4dp"
            android:gravity="center"
            android:orientation="horizontal"
            android:paddingHorizontal="16dp">

            <Button android:id="@+id/btn_a" style="@style/KeyboardKeyStyle" android:text="a" />
            <Button android:id="@+id/btn_s" style="@style/KeyboardKeyStyle" android:text="s" />
            <Button android:id="@+id/btn_d" style="@style/KeyboardKeyStyle" android:text="d" />
            <Button android:id="@+id/btn_f" style="@style/KeyboardKeyStyle" android:text="f" />
            <Button android:id="@+id/btn_g" style="@style/KeyboardKeyStyle" android:text="g" />
            <Button android:id="@+id/btn_h" style="@style/KeyboardKeyStyle" android:text="h" />
            <Button android:id="@+id/btn_j" style="@style/KeyboardKeyStyle" android:text="j" />
            <Button android:id="@+id/btn_k" style="@style/KeyboardKeyStyle" android:text="k" />
            <Button android:id="@+id/btn_l" style="@style/KeyboardKeyStyle" android:text="l" />

        </LinearLayout>

        <!-- Row 3: Shift Z X C V B N M Backspace -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="4dp"
            android:gravity="center"
            android:orientation="horizontal">

            <!-- Shift Key -->
            <ImageButton
                android:id="@+id/btn_shift"
                style="@style/KeyboardSpecialKeyStyle"
                android:layout_width="0dp"
                android:layout_weight="1.5"
                android:contentDescription="@string/shift"
                android:src="@drawable/ic_shift" />

            <Button android:id="@+id/btn_z" style="@style/KeyboardKeyStyle" android:text="z" />
            <Button android:id="@+id/btn_x" style="@style/KeyboardKeyStyle" android:text="x" />
            <Button android:id="@+id/btn_c" style="@style/KeyboardKeyStyle" android:text="c" />
            <Button android:id="@+id/btn_v" style="@style/KeyboardKeyStyle" android:text="v" />
            <Button android:id="@+id/btn_b" style="@style/KeyboardKeyStyle" android:text="b" />
            <Button android:id="@+id/btn_n" style="@style/KeyboardKeyStyle" android:text="n" />
            <Button android:id="@+id/btn_m" style="@style/KeyboardKeyStyle" android:text="m" />

            <!-- Backspace Key -->
            <ImageButton
                android:id="@+id/btn_backspace"
                style="@style/KeyboardSpecialKeyStyle"
                android:layout_width="0dp"
                android:layout_weight="1.5"
                android:contentDescription="@string/backspace"
                android:src="@drawable/ic_backspace" />

        </LinearLayout>

        <!-- Row 4: 123 Emoji Space . Enter -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="4dp"
            android:gravity="center"
            android:orientation="horizontal">

            <!-- Numbers Toggle -->
            <Button
                android:id="@+id/btn_numbers"
                style="@style/KeyboardSpecialKeyStyle"
                android:layout_width="0dp"
                android:layout_weight="1.2"
                android:text="123"
                android:textSize="14sp" />

            <!-- Emoji Button -->
            <ImageButton
                android:id="@+id/btn_emoji"
                style="@style/KeyboardSpecialKeyStyle"
                android:layout_width="0dp"
                android:layout_weight="1"
                android:contentDescription="@string/emoji"
                android:src="@drawable/ic_emoji" />

            <!-- Comma Key -->
            <Button
                android:id="@+id/btn_comma"
                style="@style/KeyboardKeyStyle"
                android:layout_width="0dp"
                android:layout_weight="0.8"
                android:text="," />

            <!-- Space Bar -->
            <Button
                android:id="@+id/btn_space"
                style="@style/KeyboardKeyStyle"
                android:layout_width="0dp"
                android:layout_weight="4"
                android:text="@string/space" />

            <!-- Period Key -->
            <Button
                android:id="@+id/btn_period"
                style="@style/KeyboardKeyStyle"
                android:layout_width="0dp"
                android:layout_weight="0.8"
                android:text="." />

            <!-- Enter Key -->
            <ImageButton
                android:id="@+id/btn_enter"
                style="@style/KeyboardSpecialKeyStyle"
                android:layout_width="0dp"
                android:layout_weight="1.5"
                android:background="@drawable/bg_key_action"
                android:contentDescription="@string/enter"
                android:src="@drawable/ic_enter"
                android:tint="@color/white" />

        </LinearLayout>

    </LinearLayout>

    <!-- ==================== NUMBERS KEYBOARD (Hidden by default) ==================== -->
    <LinearLayout
        android:id="@+id/numbers_keyboard_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:paddingHorizontal="3dp"
        android:paddingBottom="4dp"
        android:visibility="gone">

        <!-- Row 1: 1 2 3 4 5 6 7 8 9 0 -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="4dp"
            android:gravity="center"
            android:orientation="horizontal">

            <Button android:id="@+id/btn_1" style="@style/KeyboardKeyStyle" android:text="1" />
            <Button android:id="@+id/btn_2" style="@style/KeyboardKeyStyle" android:text="2" />
            <Button android:id="@+id/btn_3" style="@style/KeyboardKeyStyle" android:text="3" />
            <Button android:id="@+id/btn_4" style="@style/KeyboardKeyStyle" android:text="4" />
            <Button android:id="@+id/btn_5" style="@style/KeyboardKeyStyle" android:text="5" />
            <Button android:id="@+id/btn_6" style="@style/KeyboardKeyStyle" android:text="6" />
            <Button android:id="@+id/btn_7" style="@style/KeyboardKeyStyle" android:text="7" />
            <Button android:id="@+id/btn_8" style="@style/KeyboardKeyStyle" android:text="8" />
            <Button android:id="@+id/btn_9" style="@style/KeyboardKeyStyle" android:text="9" />
            <Button android:id="@+id/btn_0" style="@style/KeyboardKeyStyle" android:text="0" />

        </LinearLayout>

        <!-- Row 2: Symbols - @ # $ _ & - + ( ) / -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="4dp"
            android:gravity="center"
            android:orientation="horizontal">

            <Button android:id="@+id/btn_at" style="@style/KeyboardKeyStyle" android:text="@" />
            <Button android:id="@+id/btn_hash" style="@style/KeyboardKeyStyle" android:text="#" />
            <Button android:id="@+id/btn_dollar" style="@style/KeyboardKeyStyle" android:text="$" />
            <Button android:id="@+id/btn_underscore" style="@style/KeyboardKeyStyle" android:text="_" />
            <Button android:id="@+id/btn_ampersand" style="@style/KeyboardKeyStyle" android:text="&amp;" />
            <Button android:id="@+id/btn_minus" style="@style/KeyboardKeyStyle" android:text="-" />
            <Button android:id="@+id/btn_plus" style="@style/KeyboardKeyStyle" android:text="+" />
            <Button android:id="@+id/btn_open_paren" style="@style/KeyboardKeyStyle" android:text="(" />
            <Button android:id="@+id/btn_close_paren" style="@style/KeyboardKeyStyle" android:text=")" />
            <Button android:id="@+id/btn_slash" style="@style/KeyboardKeyStyle" android:text="/" />

        </LinearLayout>

        <!-- Row 3: More Symbols -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="4dp"
            android:gravity="center"
            android:orientation="horizontal">

            <!-- Symbol Toggle -->
            <Button
                android:id="@+id/btn_symbols"
                style="@style/KeyboardSpecialKeyStyle"
                android:layout_width="0dp"
                android:layout_weight="1.5"
                android:text="=\\&lt;"
                android:textSize="14sp" />

            <Button android:id="@+id/btn_asterisk" style="@style/KeyboardKeyStyle" android:text="*" />
            <Button android:id="@+id/btn_quote_double" style="@style/KeyboardKeyStyle" android:text="&quot;" />
            <Button android:id="@+id/btn_quote_single" style="@style/KeyboardKeyStyle" android:text="'" />
            <Button android:id="@+id/btn_colon" style="@style/KeyboardKeyStyle" android:text=":" />
            <Button android:id="@+id/btn_semicolon" style="@style/KeyboardKeyStyle" android:text=";" />
            <Button android:id="@+id/btn_exclamation" style="@style/KeyboardKeyStyle" android:text="!" />
            <Button android:id="@+id/btn_question" style="@style/KeyboardKeyStyle" android:text="?" />

            <!-- Backspace Key -->
            <ImageButton
                android:id="@+id/btn_backspace_num"
                style="@style/KeyboardSpecialKeyStyle"
                android:layout_width="0dp"
                android:layout_weight="1.5"
                android:contentDescription="@string/backspace"
                android:src="@drawable/ic_backspace" />

        </LinearLayout>

        <!-- Row 4: ABC Emoji Space . Enter -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="4dp"
            android:gravity="center"
            android:orientation="horizontal">

            <!-- ABC Toggle -->
            <Button
                android:id="@+id/btn_abc"
                style="@style/KeyboardSpecialKeyStyle"
                android:layout_width="0dp"
                android:layout_weight="1.2"
                android:text="ABC"
                android:textSize="14sp" />

            <!-- Emoji Button -->
            <ImageButton
                android:id="@+id/btn_emoji_num"
                style="@style/KeyboardSpecialKeyStyle"
                android:layout_width="0dp"
                android:layout_weight="1"
                android:contentDescription="@string/emoji"
                android:src="@drawable/ic_emoji" />

            <!-- Comma Key -->
            <Button
                android:id="@+id/btn_comma_num"
                style="@style/KeyboardKeyStyle"
                android:layout_width="0dp"
                android:layout_weight="0.8"
                android:text="," />

            <!-- Space Bar -->
            <Button
                android:id="@+id/btn_space_num"
                style="@style/KeyboardKeyStyle"
                android:layout_width="0dp"
                android:layout_weight="4"
                android:text="@string/space" />

            <!-- Period Key -->
            <Button
                android:id="@+id/btn_period_num"
                style="@style/KeyboardKeyStyle"
                android:layout_width="0dp"
                android:layout_weight="0.8"
                android:text="." />

            <!-- Enter Key -->
            <ImageButton
                android:id="@+id/btn_enter_num"
                style="@style/KeyboardSpecialKeyStyle"
                android:layout_width="0dp"
                android:layout_weight="1.5"
                android:background="@drawable/bg_key_action"
                android:contentDescription="@string/enter"
                android:src="@drawable/ic_enter"
                android:tint="@color/white" />

        </LinearLayout>

    </LinearLayout>

</LinearLayout>
